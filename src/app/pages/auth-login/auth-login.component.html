<div class="login">
    <mat-card style="max-width: 400px;" class="shadow-8">
        <mat-card-header>
            <h1>Iniciar sesion</h1>
        </mat-card-header>

        <mat-card-content>
            <form (ngSubmit)="onSubmit()" [formGroup]="loginForm">
                <mat-form-field class="w-full mb-3">
                    <mat-label>Email</mat-label>
                    <input formControlName="email" matInput />
                    <mat-hint>Debe ingresar un correo electronico valido</mat-hint>
                    <mat-icon matSuffix>email</mat-icon>
                </mat-form-field>
                <mat-form-field class="w-full mb-3">
                    <mat-label>Contrasena</mat-label>
                    <input formControlName="password" matInput />
                    <mat-icon matSuffix>key</mat-icon>
                </mat-form-field>

                <mat-form-field class="w-full">
                    <mat-label>Rol</mat-label>
                    <mat-select formControlName="role">
                        <mat-option value="ADMIN">ADMIN</mat-option>
                        <mat-option value="USER">USER</mat-option>
                    </mat-select>
                </mat-form-field>

                <p *ngIf="error !== ''" class="errorText text-center">
                    {{error}}
                </p>

                @if (isLoading$ | async) {
                <mat-spinner class="w-2"></mat-spinner>
                } @else {
                <button type="submit" class="w-full mt-5" mat-flat-button color="primary">
                    Iniciar sesion
                </button>
                }

            </form>
        </mat-card-content>
    </mat-card>
</div>